<div class="forgot-password-panel" [ngClass]="{'open': isForgotPasswordOpen}">
    <!-- Success and Error Messages -->
    <div class="success-message" [ngClass]="{'show': showSuccess}">
      {{ successMessage }}
    </div>
    <div class="error-message" [ngClass]="{'show': showError}">
      {{ errorMessage }}
    </div>
  
    <div class="forgot-password-content">
      <button class="close-forgot-password" (click)="onBackToLogin()">‚Üê</button>
      <h2 style="text-align: center;">Reset Password</h2>
  
      <!-- Step 1: Enter Email -->
      <form *ngIf="step === 1" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="forgot-password-email">Email:</label>
          <input type="email" id="forgot-password-email" [(ngModel)]="email" name="email" required>
        </div>
        <br><br>
        <button type="submit" class="btn-submit" [disabled]="isLoading">
          {{ isLoading ? 'Sending...' : 'Send Reset Code' }}
        </button>
      </form>
  
      <!-- Step 2: Enter Reset Code -->
      <form *ngIf="step === 2" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="reset-code">Reset Code:</label>
          <input type="text" id="reset-code" [(ngModel)]="resetCode" name="resetCode" required>
        </div>
        <br><br>
        <button type="submit" class="btn-submit" [disabled]="isLoading">
          {{ isLoading ? 'Verifying...' : 'Verify Code' }}
        </button>
      </form>
  
      <!-- Step 3: Enter New Password -->
      <form *ngIf="step === 3" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="new-password">New Password:</label>
          <input type="password" id="new-password" [(ngModel)]="newPassword" name="newPassword" required>
        </div>
        <div class="form-group">
          <label for="confirm-password">Confirm Password:</label>
          <input type="password" id="confirm-password" [(ngModel)]="confirmPassword" name="confirmPassword" required>
        </div>
        <br><br>
        <button type="submit" class="btn-submit" [disabled]="isLoading">
          {{ isLoading ? 'Resetting...' : 'Reset Password' }}
        </button>
      </form>
    </div>
  </div>